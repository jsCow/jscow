/* jscow - Javascript Component Framework - jscow-textarea-trunk - Mario Linz - http://www.jscow.de */jsCow.res.components.textarea=function(){};jsCow.res.components.textarea.prototype={init:function(){return this},setDefaultMVC:function(){this.setModel(jsCow.res.model.textarea);this.setView(jsCow.res.view.textarea);this.setController(jsCow.res.controller.textarea);return this},setValue:function(a){this.globalEvents.trigger("setValue",{input:a},this);return this},getValue:function(){return this.getConfig("input")},setAlign:function(a){this.globalEvents.trigger("setAlign",{align:a},this);return this},setDefaultText:function(a){this.globalEvents.trigger("setDefaultText",{placeholder:a},this);return this},getDefaultText:function(){return this.getConfig("placeholder")}};jsCow.res.model.textarea=function(){this.type="jsCow.res.model.textarea";this.config={globalDisabled:false,enabled:true,input:"",align:"left",placeholder:"..."}};jsCow.res.model.textarea.prototype={init:function(){this.globalEvents.trigger("viewInit",this.getConfig(),this.getCmp())},setValue:function(a){if(this.isEnabled()){this.setConfig({input:a.data.input});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())}return this},setDefaultText:function(a){if(this.isEnabled()){this.setConfig({placeholder:a.data.placeholder});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())}return this},setAlign:function(a){this.setConfig({align:a.data.align});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp());return this}};jsCow.res.view.textarea=function(){this.execInit=false;this.type="jsCow.res.view.textarea";this.dom={};this.dom.main=$("<div/>").addClass("jscow-form-textarea clearfix");this.dom.textarea=$("<textarea/>").addClass("jscow-form-textarea-field").appendTo(this.dom.main)};jsCow.res.view.textarea.prototype={init:function(e){var b=e.data;var d=this.getCmp();var a=this;this.dom.textarea.val(b.input).keyup(function(){d.globalEvents.trigger("setValue",{input:a.dom.textarea.val()},d)}).attr({placeholder:b.placeholder});this.setAlign(b.align);this.update(e)},update:function(a){var a=a.data;if(a){if(!a.enabled||a.globalDisabled){this.dom.main.addClass("jscow-form-textarea-disabled").removeClass("jscow-form-textarea");this.dom.textarea.attr("readonly","readonly")}else{this.dom.main.addClass("jscow-form-textarea").removeClass("jscow-form-textarea-disabled");this.dom.textarea.removeAttr("readonly");this.dom.textarea.attr({placeholder:a.placeholder});this.dom.textarea.val(a.input);this.setAlign(a.align);if(a.hide){this.dom.main.addClass("jscow-hide")}else{this.dom.main.removeClass("jscow-hide")}}}return this},setAlign:function(a){switch(a){case"left":this.dom.main.removeClass("jscow-align-none jscow-align-right").addClass("jscow-align-left");break;case"right":this.dom.main.removeClass("jscow-align-none jscow-align-left").addClass("jscow-align-right");break;case"fillup":this.dom.main.removeClass("jscow-align-left jscow-align-right").addClass("jscow-align-none");break;default:this.dom.main.removeClass("jscow-align-left jscow-align-right").addClass("jscow-align-none");break}}};jsCow.res.controller.textarea=function(){this.type="jsCow.res.controller.textarea"};jsCow.res.controller.textarea.prototype={init:function(){},handleSetValue:function(a){if(this.isMethodExists(this.getModel().setValue)){this.getModel().setValue(a)}return this},handleSetDefaultText:function(a){if(this.isMethodExists(this.getModel().setDefaultText)){this.getModel().setDefaultText(a)}return this},handleSetAlign:function(a){if(this.isMethodExists(this.getModel().setAlign)){this.getModel().setAlign(a)}return this}};