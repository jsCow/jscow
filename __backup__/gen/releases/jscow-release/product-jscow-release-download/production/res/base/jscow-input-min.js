/* jscow - Javascript Component Framework - jscow-input-trunk - Mario Linz - http://www.jscow.de */jsCow.res.components.input=function(){};jsCow.res.components.input.prototype={init:function(){return this},setDefaultMVC:function(){this.setModel(jsCow.res.model.input);this.setView(jsCow.res.view.input);this.setController(jsCow.res.controller.input);return this},setValue:function(a){this.globalEvents.trigger("setValue",{input:a},this);return this},getValue:function(){return this.getConfig("input")},setAlign:function(a){this.globalEvents.trigger("setAlign",{align:a},this);return this},setDefaultText:function(a){this.globalEvents.trigger("setDefaultText",{placeholder:a},this);return this},getDefaultText:function(){return this.getConfig("placeholder")}};jsCow.res.model.input=function(){this.type="jsCow.res.model.input";this.config={enabled:true,input:"",align:"left",placeholder:"..."}};jsCow.res.model.input.prototype={init:function(){this.globalEvents.trigger("viewInit",this.getConfig(),this.getCmp())},setValue:function(a){if(this.isEnabled()){this.setConfig({input:a.data.input});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())}return this},setDefaultText:function(a){if(this.isEnabled()){this.setConfig({placeholder:a.data.placeholder});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp())}return this},setAlign:function(a){this.setConfig({align:a.data.align});this.globalEvents.trigger("viewUpdate",this.getConfig(),this.getCmp());return this}};jsCow.res.view.input=function(){this.execInit=false;this.type="jsCow.res.view.input";this.dom={};this.dom.main=$("<div/>").addClass("jscow-form-input clearfix");this.dom.input=$("<input/>").addClass("jscow-form-input-field").appendTo(this.dom.main)};jsCow.res.view.input.prototype={init:function(e){var b=e.data;var d=this.getCmp();var a=this;this.dom.input.val(b.input).keyup(function(){d.globalEvents.trigger("setValue",{input:a.dom.input.val()},d)}).attr({placeholder:b.placeholder});this.setAlign(b.align);this.update(e)},update:function(a){var a=a.data;if(a){if(!a.enabled||a.globalDisabled){this.dom.main.addClass("jscow-form-input-disabled").removeClass("jscow-form-input");this.dom.input.attr("readonly","readonly")}else{this.dom.main.addClass("jscow-form-input").removeClass("jscow-form-input-disabled");this.dom.input.removeAttr("readonly");this.dom.input.val(a.input);this.dom.input.attr({placeholder:a.placeholder});this.setAlign(a.align);if(a.hide){this.dom.main.addClass("jscow-hide")}else{this.dom.main.removeClass("jscow-hide")}}}return this},setAlign:function(a){switch(a){case"left":this.dom.main.removeClass("jscow-align-none jscow-align-right").addClass("jscow-align-left");break;case"right":this.dom.main.removeClass("jscow-align-none jscow-align-left").addClass("jscow-align-right");break;case"fillup":this.dom.main.removeClass("jscow-align-left jscow-align-right").addClass("jscow-align-none");break;default:this.dom.main.removeClass("jscow-align-left jscow-align-right").addClass("jscow-align-none");break}},setFocus:function(a){this.dom.main.addClass("jscow-focus")}};jsCow.res.controller.input=function(){this.type="jsCow.res.controller.input"};jsCow.res.controller.input.prototype={init:function(){},handleSetValue:function(a){if(this.isMethodExists(this.getModel().setValue)){this.getModel().setValue(a)}return this},handleSetDefaultText:function(a){if(this.isMethodExists(this.getModel().setDefaultText)){this.getModel().setDefaultText(a)}return this},handleSetAlign:function(a){if(this.isMethodExists(this.getModel().setAlign)){this.getModel().setAlign(a)}return this}};